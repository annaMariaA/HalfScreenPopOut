library(dplyr)
# TODO: check subjects to replace!
setwd("C:/Users/r02al13/Documents/GitHub/HalfScreenPopOut/DeadlinExp")
saccInfo <- function(trialDat)
{
# this is a funtion that calculates saccade amplitude and angle for a sequenece of fixations in a  trial
nFix = max(trialDat$fixNum)
saccInfo  = trialDat
saccAmp2 = vector()
theta = vector()
for (f in 1:(nFix-1))
{
dx = trialDat$fixX[f] - trialDat$fixX[f+1]
dy = trialDat$fixY[f] - trialDat$fixY[f+1]
saccAmp2[f] = dx^2 + dy^2
theta[f] = atan2(dx, dy)
}
saccAmp2[nFix] = NaN
theta[nFix]    = NaN
saccInfo$amp   = sqrt(saccAmp2)
saccInfo$ang   = theta
return(saccInfo)
}
q()
